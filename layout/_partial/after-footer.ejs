<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<%- js('bootstrap/js/bootstrap.min.js') %>
<%# bootstrap.bundle.min.js replace popper.js cdn %>
<%- js('bootstrap/js/bootstrap.bundle.min.js') %>

<%- js('js/to_top.js') %>

<%# 图标 %>
<script src="https://at.alicdn.com/t/font_2918710_jucubmd07u.js"></script>

<%# 添加three.js %>
<% if(theme.background.threeJs.enable == true){ %>
    <script src="https://cdn.bootcdn.net/ajax/libs/three.js/r128/three.min.js"></script>
    <%- js('js/three-map.js') %>
<% } else if(theme.background.canvas.enable){ %>
    <% 
        var a = theme.background.canvas.color,
        b = theme.background.canvas.zIndex,
        c = theme.background.canvas.opacity,
        d = theme.background.canvas.count;
    %>
    <%- js({ src: 'js/canvas.js', color: a ,zIndex: b,opacity: c,count: d}) %>
<% } %>

<%# fancybox%>
<% if(theme.fancybox.enable){ %>
        <script src="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
<script>
// fancybox
/* 
* 最笨的方法：用js给img套上a标签，得以使用fancybox。
*/
var imgs = document.querySelectorAll('.blog-post img');
imgs.forEach(function (img){
    var el = document.createElement('a');
    el.className = 'fancybox-group';
    el.setAttribute('data-fancybox','gallery');
    el.href = img.getAttribute('src');
    img.parentNode.replaceChild(el,img);
    el.appendChild(img);
})

$(document).ready(function() {
	/* This is basic - uses default settings */
	$("a.fancybox-group").fancybox();
});
</script>
<% } %>

<%- js('js/floatbar.js') %>
<%- js('js/archives.js') %>
<%- js('js/index.js') %>
<script>
    calculateTime("<%= theme.startTime %>");
</script>

<%# 添加鼠标点击 效果%>
<% if(theme.mouseClick.showText.enable){ %>
    <% 
        var txt = theme.mouseClick.showText.text,
        ShowColor = theme.mouseClick.showText.color;
    %>
    <%- js({ src: 'js/show_text.js', text: txt, id: 'showText', color:ShowColor}) %>
<% } else if(theme.mouseClick.showHeart){ %>
    <%- js({ src: 'js/show_heart.js'}) %>
<% } else if(theme.mouseClick.firework){ %>
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
    <%- js('js/firework.js') %>
<% } %>



